<!DOCTYPE html>
<html>
<head>
    <title>Comunicazione tra iframe</title>
</head>
<body>
    <button onclick="copyContent()">Copia da iframe2 a iframe1</button>
    <iframe id="iframe1" width="500" height="300"></iframe>
    <iframe id="iframe2" width="500" height="300" src="https://sportsonline.gl/prog.txt"></iframe>

    <script>
        // Funzione per copiare il contenuto di iframe2 in iframe1
        function copyContent() {
            var iframe1 = document.getElementById("iframe1").contentWindow;
            var iframe2 = document.getElementById("iframe2").contentWindow;

            // Copia il contenuto di iframe2 in iframe1
            var content = iframe2.document.documentElement.innerHTML;
            iframe1.document.open();
            iframe1.document.write(content);
            iframe1.document.close();
        }

        // Ascolta i messaggi tra iframe1 e iframe2
        window.addEventListener("message", function(event) {
            // Verifica l'origine del messaggio (potresti voler essere pi√π specifico)
            if (event.origin !== window.location.origin) return;

            // Ricevi il messaggio
            var message = event.data;

            // Copia il contenuto ricevuto in iframe1
            document.getElementById("iframe1").srcdoc = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>iframe1</title>
                </head>
                <body>
                    <h1>iframe1</h1>
                    <p>Contenuto ricevuto da iframe2:</p>
                    <pre>${message}</pre>
                </body>
                </html>
            `;
        });
    </script>
</body>
</html>
