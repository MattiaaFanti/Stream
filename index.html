fetch('https://cors-anywhere.herokuapp.com/https://sportsonline.gl/prog.txt')
  .then(response => response.text())
  .then(data => {
    var lines = data.split('\n');
    var output = [];
    var day = '';
    var italianChannels = [];

    for (var i = 0; i < lines.length; i++) {
      var line = lines[i].trim();

      // Controlla se la riga Ã¨ un giorno della settimana
      if (line.match(/^(LUNEDI|MARTEDI|MERCOLEDI|GIOVEDI|VENERDI|SABATO|DOMENICA)$/)) {
        day = line;
        italianChannels = []; // Resetta i canali italiani per il nuovo giorno
      }

      // Controlla se la riga Ã¨ un canale italiano
      if (line.match(/^HD\d+ ITALIAN$/)) {
        var channelNumber = line.match(/\d+/)[0]; // Estrae il numero del canale
        italianChannels.push('hd' + channelNumber);
      }

      // Controlla se la riga contiene un link a una partita di calcio italiana
      for (var j = 0; j < italianChannels.length; j++) {
        if (line.includes(italianChannels[j])) {
          output.push(day);
          output.push(line);
          output.push('');
          break;
        }
      }
    }

    console.log(output.join('\n'));
  });
